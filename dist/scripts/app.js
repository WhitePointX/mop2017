"use strict";angular.module("mopfest2015",["constants","ui.router","templates","sticky","LocalStorageModule","uiGmapgoogle-maps","ngAnimate","duScroll","ngTouch","duScroll"]).config(["$stateProvider","$urlRouterProvider","$anchorScrollProvider",function(e,t,o){e.state("main",{"abstract":!0,templateUrl:"main/views/main.html"}).state("main.home",{url:"/",views:{content:{controller:"HomeController",controllerAs:"home",templateUrl:"main/views/home.html"}}}).state("main.schedule",{url:"/schedule?day&guest",views:{content:{controller:"ScheduleController",controllerAs:"schedule",templateUrl:"schedule/views/schedule.html"}}}).state("main.guests",{url:"/guests",views:{content:{controller:"GuestsController",controllerAs:"guests",templateUrl:"guests/views/guests.html"}}}).state("main.location",{url:"/location",views:{content:{controller:"LocationController",controllerAs:"location",templateUrl:"location/views/location.html"}}}).state("main.partners",{url:"/partners",views:{content:{controller:"PartnersController",controllerAs:"partners",templateUrl:"partners/views/partners.html"}}}).state("main.about",{url:"/about",views:{content:{controller:"AboutController",controllerAs:"about",templateUrl:"about/views/about.html"}}}),o.disableAutoScrolling(),t.otherwise("/")}]),angular.module("constants",[]).constant("greeting","Sup!"),angular.module("mopfest2015").controller("MainController",["localStorageService","$window","$scope","$document","SoundService",function(e,t,o,n,r){var l,s=this;s.sound="nosound"!==e.get("sound"),s.headText="Digital world<br> in focus",s.color=e.get("color")||"green",s.currentActive=!1,this.toggleSound=function(){s.sound=!s.sound,r.toggleSound(s.sound)},this.toggleMenu=function(){r.playSound(),s.menu=!s.menu},this.changeColor=function(t){s.color=t,e.set("color",t)},this.switchLink=function(e){t.scrollTo(0,0),s.menu=!1,s.currentActive=e,s.menuHover=e},this.scrollTo=function(e){var o=e;"win"===e?o=t.innerHeight-115:"win0"===e&&(o=t.innerHeight),n.scrollTop(o,700)},o.$on("switchLink",function(e,t){s.headText=t.text,s.currentActive=t.nav,s.menuHover=t.nav,s.generateImage(!0)}),this.generateImage=function(e){var t;l?(t=l,l=Math.floor(26*Math.random()+1)):(t=Math.floor(26*Math.random()+1),l=Math.floor(26*Math.random()+1));var o=new Image;o.src="img/cover/cover"+l+".png",s.headImg={"background-image":"url(img/cover/cover"+t+".png)"},e||r.headSound()}}]),angular.module("mopfest2015").controller("HomeController",["$scope",function(e){e.$emit("switchLink",{nav:"first",text:"Digital world in focus"})}]),angular.module("mopfest2015").factory("SoundService",["localStorageService",function(e){var t={},o=e.get("sound");return t.toggleSound=function(t){o=t,t?e.set("sound",t):e.set("sound","nosound")},t.playSound=function(){if(o=e.get("sound"),"nosound"!==o){var t=new Audio("audio/1.mp3");t.play()}},t.headSound=function(){if(o){var e=new Audio("audio/4.mp3");e.play()}},t}]),angular.module("mopfest2015").controller("LocationController",["$scope",function(e){e.$emit("switchLink",{nav:"fourth",text:"Lokacija"}),this.map={center:{latitude:46.3084444,longitude:16.3377778},zoom:15},this.options={streetViewControl:!1,scrollwheel:!1,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]},this.markers=[{id:1,coordinates:{latitude:46.31,longitude:16.3343},icon:{url:"./img/pin_map.png"}},{id:2,coordinates:{latitude:46.3096,longitude:16.3375},icon:{url:"./img/pin_map.png"}},{id:3,coordinates:{latitude:46.3078,longitude:16.3359},icon:{url:"./img/pin_map.png"}}]}]),angular.module("mopfest2015").controller("AboutController",["$scope",function(e){e.$emit("switchLink",{nav:"fifth",text:"O nama"})}]),angular.module("mopfest2015").controller("GuestsController",["$scope","GuestService",function(e,t){var o=this;o.guests=[],e.$emit("switchLink",{nav:"third",text:"Gosti"}),t.getGuests().then(function(e){e.guests.forEach(function(e){e.guestNoShow||o.guests.push(e)}),e.guests2.forEach(function(e){e.same||e.guestNoShow||o.guests.push(e)}),e.guests3.forEach(function(e){e.same||e.guestNoShow||o.guests.push(e)})})}]),angular.module("mopfest2015").factory("GuestService",["$q","$http",function(e,t){var o={};return o.getGuests=function(){var o=e.defer();return t.get("guests.json").success(function(e){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise},o}]),angular.module("mopfest2015").controller("PartnersController",["$scope",function(e){e.$emit("switchLink",{nav:"fifth",text:"Partneri"})}]);